(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{283:function(e,t,n){"use strict";t.a={serverUrl:"http://api.projectunkn.com",stripeKey:"pk_test_1SMbb3HOTJRaOp9Cpy8iAg9K00hW9hlE7T",stripeOptions:{}}},348:function(e,t,n){"use strict";n.r(t);n(69);var r=n(25),c=n(0),o=n(283),l=Stripe("pk_test_1SMbb3HOTJRaOp9Cpy8iAg9K00hW9hlE7T"),d=c.a.extend({data:function(){return{seshkey:null,payable:!1,unsubscribable:!1}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o.a.serverUrl,"/api/payment/payable"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 2:return n=t.sent,t.next=5,n.json();case 5:if(t.t0=t.sent,!0!==t.t0){t.next=14;break}return t.next=9,fetch("http://localhost:7400/api/payment/createPayment",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 9:return r=t.sent,t.next=12,r.json();case 12:e.seshkey=t.sent.session,e.payable=!0;case 14:return t.next=16,fetch("".concat(o.a.serverUrl,"/api/payment/unsubscribable"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 16:return c=t.sent,t.next=19,c.json();case 19:if(t.t1=t.sent,!0!==t.t1){t.next=22;break}e.unsubscribable=!0;case 22:case"end":return t.stop()}}),t)})))()},methods:{pay:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=e.seshkey)||void 0===n?void 0:n.id)){t.next=3;break}return t.next=3,l.redirectToCheckout({sessionId:e.seshkey.id});case 3:case"end":return t.stop()}}),t)})))()},unsubscribe:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o.a.serverUrl,"/api/payment/cancel"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 2:case"end":return e.stop()}}),e)})))()}}}),h=n(61),y=n(86),f=n.n(y),m=n(138),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"payment"}},[n("h1",[e._v("Become a member of Project Unknown")]),e._v(" "),n("v-btn",{attrs:{disabled:!0!==e.payable},on:{click:e.pay}},[e._v("\n        "+e._s("Sold out"===e.payable?"Sold out":"Pay with credit card")+"\n    ")]),e._v(" "),n("v-btn",{attrs:{disabled:!e.unsubscribable},on:{click:e.unsubscribe}},[e._v("\n        Unsubscribe\n    ")])],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:m.a})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{284:function(e,t,r){"use strict";t.a={serverUrl:"https://api.projectunkn.com",stripeKey:"pk_test_1SMbb3HOTJRaOp9Cpy8iAg9K00hW9hlE7T",stripeOptions:{}}},384:function(e,t,r){"use strict";r.r(t);r(69);var n=r(25),c=r(0),o=r(284),l=c.a.extend({name:"Login",data:function(){return{search:"",users:null,authorized:!0,deleting:{active:!1,value:null}}},computed:{},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:if(401!==(r=t.sent).status){t.next=7;break}e.authorized=!1,t.next=12;break;case 7:return t.t0=JSON,t.next=10,r.text();case 10:t.t1=t.sent,e.users=t.t0.parse.call(t.t0,t.t1);case 12:case"end":return t.stop()}}),t)})))()},methods:{getUsers:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o.a.serverUrl,"/api/users/getAllUsers"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},deleteItem:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("member"===t){n.next=2;break}return n.abrupt("return");case 2:if(!confirm("Are you sure you want to cancel the subscription of this user?")){n.next=18;break}return n.next=6,fetch("".concat(o.a.serverUrl,"/api/payment/cancelUser"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:e})});case 6:return n.next=8,r.getUsers();case 8:if(401!==(c=n.sent).status){n.next=13;break}r.authorized=!1,n.next=18;break;case 13:return n.t0=JSON,n.next=16,c.text();case 16:n.t1=n.sent,r.users=n.t0.parse.call(n.t0,n.t1);case 18:case"end":return n.stop()}}),n)})))()},roleToColor:function(e){return"admin"===e?"#cc2900":"member"===e?"#00800f":"verified"===e?"#003580":"#777"}}}),d=r(62),f=r(87),m=r.n(f),h=r(285),v=r(283),x=r(312),k=r(379),_=r(119),w=r(281),y=r(366),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dashboard"},[e._v("\n    Admin dashboard\n    "),e.authorized?e._e():r("p",[e._v("You are not authorized!")]),e._v(" "),e.authorized?r("v-card",[r("v-card-title",[e._v("\n            Users\n            "),r("v-spacer"),e._v(" "),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),e.users?r("v-data-table",{attrs:{headers:Object.keys(e.users[0]).map((function(e){return{text:e,value:e}})).concat([{text:"Actions",value:"actions",sortable:!1}]),items:e.users,"items-per-page":5,search:e.search},scopedSlots:e._u([{key:"item.role",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.roleToColor(n.role),dark:""}},[e._v("\n                    "+e._s(n.role)+"\n                ")])]}},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n.id,n.role)}}},[e._v("\n                    mdi-delete\n                ")])]}}],null,!1,230350897)}):e._e()],1):e._e()],1)}),[],!1,null,"b46c4ca4",null);t.default=component.exports;m()(component,{VCard:h.a,VCardTitle:v.c,VChip:x.a,VDataTable:k.a,VIcon:_.a,VSpacer:w.a,VTextField:y.a})}}]);